@use '@design/core.scss';
@use '@design/animate.scss';
@use '@design/theme.scss';
@use '@design/tokens.scss';
@use '@design/hybrid-theme.scss' as hybrid;
@use 'sass:map';

$sizes: (sm, md, lg);

$grid: (
  sm: 16px,
  md: 24px,
  lg: 28px,
);

$heights: (
  sm: 35px,
  md: 40px,
  lg: 45px,
);

// Base wrapper styles
@mixin baseWrapperStyles {
  @extend %left;
  align-items: center;
  cursor: pointer;
  display: grid;
  height: 100%;
  justify-items: center;
  padding: tokens.$space-1 tokens.$space-2;
  width: 100%;

  &.rtl {
    direction: rtl;
  }

  &.disabled {
    @extend %disabled;
  }

  @each $key, $val in $grid {
    &.#{$key} {
      display: flex;

      &:not(.auto_height) {
        min-height: map.get($heights, $key);
      }
    }
  }
}

.wrapper {
  @include baseWrapperStyles;
}

// Border styles
@mixin borderStyles {
  &:not(.dark) {
    @extend %border;
  }
}

.border {
  @include borderStyles;
}

// Hover styles with interactive feedback
@mixin hoverStyles {
  @extend %border-radius;

  @include hybrid.hover-feedback() {
    &.dark {
      background-color: theme.$dark-hover;
    }

    &:not(.dark) {
      background: rgba(theme.$secondary-rgb, 0.25);
    }
  }
}

.hover {
  @include hoverStyles;
}

// Base checkbox styles
@mixin baseCheckboxStyles {
  @extend %left;
  user-select: none;
  z-index: 1;

  * {
    cursor: pointer;
  }

  &.disabled {
    @extend %disabled;
  }
}

.checkbox {
  @include baseCheckboxStyles;
}

// Base icon styles
@mixin baseIconStyles {
  @extend %border-primary;
  @include hybrid.smooth-transition(background);

  &.dark {
    background: theme.$dark-input-bg;
  }

  &:not(.dark) {
    background: theme.$white;
  }

  &.round {
    border-radius: hybrid.$radius-sm;
  }

  svg {
    display: none;
  }

  &.checked {
    background: theme.$primary;
    animation: hybrid-snap-select hybrid.$animation-duration-primary hybrid.$spring-easing;

    svg {
      color: theme.$white;
      display: block;
    }
  }
}

.icon {
  @include baseIconStyles;
}

// Base label styles
@mixin baseLabelStyles {
  @extend %text-no-wrap;
  cursor: pointer;
  display: block;
  font-weight: 300;
  padding-left: tokens.$space-2;
  user-select: none;

  &.dark {
    color: theme.$white;
  }

  &.label_rtl {
    padding-right: tokens.$space-2;
  }

  @each $key in $sizes {
    &.label_#{$key} {
      @extend %font-#{$key};
    }
  }
}

.label {
  @include baseLabelStyles;
}

// Styles for different sizes of icons
@mixin iconSizes {
  @each $size in $sizes {
    .#{$size} {
      &.icon {
        @extend %icon-#{$size};
      }
    }
  }
}

@include iconSizes;
