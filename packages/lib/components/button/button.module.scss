@use '@design/core.scss';
@use '@design/theme.scss';
@use '@design/button.scss';
@use '@design/animate.scss';
@use 'sass:map';

$types: (primary, default, danger);
$sizes: (sm, md, lg);

.btn {
  &.no_border {
    border: 0;
    box-shadow: none;
  }

  &:not(.icon) {
    min-width: 50px;
  }

  &:not(.flat):not(.dark) {
    @extend %border;
  }

  &.dark:not(.flat) {
    @extend %border-radius;
  }

  &:not(:active) {
    transition: transform 80ms ease-in;
  }

  &:active:not(.disabled) {
    transform: scale(0.95);
  }
}

@each $value in $types {
  .#{$value} {
    @extend %button-#{$value};

    &.disabled {
      @extend %disabled;
      border: 1px solid transparent;
    }
  }
}

@each $size in $sizes {
  .#{$size} {
    @extend %text-#{$size};
    @extend %button-#{$size};

    .icon_container {
      @extend %icon-#{$size};
    }

    .label {
      @extend %font-#{$size};
    }
  }
}

.label {
  @extend %text-no-wrap;
  text-transform: capitalize;
}

@each $size in $sizes {
  .#{$size} {
    .label {
      @extend %font-#{$size};
    }

    .icon {
      @extend %icon-#{$size};
    }
  }
}

.icon {
  border-radius: 50%;

  &.disabled {
    @extend %disabled;
  }

  &:not(.disabled):not(.dark) {
    background: theme.$light-bg;
  }

  &:hover:not(.disabled):not(.dark) {
    background: theme.$primary;
    color: theme.$white;
  }

  &.dark:not(.disabled) {
    background: theme.$dark-control-bg;
  }

  &:hover.dark:not(.disabled) {
    background: theme.$primary;
  }

  &:hover.dark:not(.disabled) svg {
    color: theme.$white;
  }
}

.icon_container + .label {
  margin-left: 0.25rem;
}

.progress_wrapper {
  margin-right: 0.5rem;
}
