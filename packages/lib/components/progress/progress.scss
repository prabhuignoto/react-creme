@use '../../design/layout.scss';
@use '../../design/colors.scss';
@use '../../design/animate.scss';
@use '../../design/position.scss';

.rc-progress-wrapper {
  @extend %center;
  height: var(--height);
  overflow: hidden;
  width: var(--width);
}

.rc-progress-track {
  @extend %border-radius;
  display: block;
  height: 100%;
  position: relative;
  width: 100%;
  z-index: 1;

  &.rc-progress-track-rtl {
    direction: rtl;
  }

  &.rc-progress-track-default {
    background: rgba(colors.$secondary-rgb, 0.25);
  }

  &.rc-progress-track-success {
    background: rgba(colors.$success-green, 0.25);
  }

  &.rc-progress-track-error {
    background: rgba(colors.$crimson, 0.25);
  }
}

.rc-progress-fill {
  display: block;
  transition: width 0.2s ease-in;
  width: var(--width);
  z-index: 0;

  &.rc-progress-fill-default {
    background: colors.$primary;
  }

  &.rc-progress-fill-success {
    background: colors.$success-green;
  }

  &.rc-progress-fill-error {
    background: colors.$crimson;
  }

  &.progressive {
    @extend %border-radius-left;
  }

  &:not(.indeterminate) {
    height: 100%;
  }

  &.indeterminate {
    @extend %border-radius;
    @include position.position-abs('top left');
    @include animate.set-settings(2s, linear, true);
    animation-name: indeterminate-progress;
    border: 1px solid colors.$primary;
    height: calc(var(--height) - 2px);
  }

  &.bob {
    animation-direction: alternate;
  }

  &.complete {
    @extend %border-radius;
  }
}

.rc-progress-percent-value {
  @extend %right;
  color: colors.$white;
  font-size: 1rem;
  height: 100%;
  padding: 0 0.5rem;

  &.rc-progress-percent-value-large {
    font-size: 1.2rem;
  }

  &.rc-progress-percent-value-small {
    font-size: 0.8rem;
  }
}

$indeterminate-anim-settings: (
  from: (
    left: -50%,
  ),
  to: (
    left: 100%,
  ),
);

$bob-anim-settings: (
  from: (
    left: -50%,
  ),
  to: (
    left: 100%,
  ),
);

@include animate.set-keyframes(indeterminate-progress, $indeterminate-anim-settings);
@include animate.set-keyframes(indeterminate-bob, $bob-anim-settings);
