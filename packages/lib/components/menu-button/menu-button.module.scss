@use '@design/core.scss';
@use '@design/theme.scss';
@use '@design/position.scss';
@use '@design/animate.scss';
@use '@design/tokens.scss';

$sizes: (sm, md, lg);

.wrapper {
  max-width: var(--max-width);
  min-width: 100px;

  &.dark {
    @extend %border-radius;
    background-color: theme.$dark-control-bg;
  }

  &:not(.dark) {
    @extend %border;
    @extend %shadow-inset-small;
  }

  &.disabled {
    @extend %disabled;
  }

  &:not(:active) {
    transition: transform 100ms ease-in;
  }

  &:active:not(.disabled) {
    transform: scale(0.97);
  }
}

.wrapper:hover {
  background: theme.$primary;
  color: theme.$white;

  svg {
    color: theme.$white;
  }

  .label:not(.dark) {
    color: theme.$white;
  }
}

.button {
  align-items: center;
  background: inherit;
  border: none;
  column-gap: tokens.$space-1;
  cursor: pointer;
  display: grid;
  min-height: 35px;
  padding: 0;
  margin: 0;
  width: 100%;

  &:disabled {
    @extend %disabled;
    cursor: not-allowed;
  }

  &:focus-visible {
    outline: 2px solid theme.$primary;
    outline-offset: 2px;
  }
}

.rtl .button {
  > :first-child {
    order: 1;
    padding-left: tokens.$space-2;
  }

  > :last-child {
    order: 0;
    margin-left: tokens.$space-2;
  }
}

@each $size in $sizes {
  $ico-size: var(--rc-icon-size-#{$size});

  .wrapper {
    &:not(.rtl) .button {
      grid-template-columns: calc(100% - $ico-size) $ico-size;
    }

    &.rtl .button {
      grid-template-columns: $ico-size calc(100% - $ico-size);
    }
  }

  .#{$size} {
    .icon {
      @extend %icon-#{$size};
    }
  }
}

.icon {
  @extend %center;
  color: var(--icon-color, theme.$primary);
  cursor: pointer;
  display: block;
  position: relative;

  &:hover {
    // background: theme.$primary;
  }
}

.label {
  @extend %center;
  cursor: pointer;

  @each $size in $sizes {
    &.#{$size} {
      @extend %text-#{$size};
    }
  }

  &:not(.dark):hover {
    color: theme.$white;
  }
}

.wrapper:not(.rtl) .label {
  padding-right: tokens.$space-2;
}
